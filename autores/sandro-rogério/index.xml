<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Diário de Bordo – Sandro Rogério</title><link>https://sandrorgguimaraes.github.io/autores/sandro-rog%C3%A9rio/</link><description>Recent content in Sandro Rogério on Diário de Bordo</description><generator>Hugo -- gohugo.io</generator><language>pt-br</language><lastBuildDate>Tue, 25 Oct 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://sandrorgguimaraes.github.io/autores/sandro-rog%C3%A9rio/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Template de VM's</title><link>https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/fazap/template-vm/</link><pubDate>Wed, 20 Apr 2022 00:00:00 +0000</pubDate><guid>https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/fazap/template-vm/</guid><description>
&lt;blockquote>
&lt;p>&lt;em>&lt;strong>Observações / informações iniciais:&lt;/strong>&lt;/em>&lt;/p>
&lt;ul>
&lt;li>Os procedimentos abaixo foram aplicados em um computador com o &lt;code>Ubuntu 20.04.4 LTS&lt;/code>.&lt;/li>
&lt;li>Utilizamos como fonte de estudo os artigos listados na seção &lt;a href="https://sandrorgguimaraes.github.io/docs/vivendo-e-aprendendo/linux/kvm-libvirt/">Vivendo &amp;amp; Aprendendo -&amp;gt; Linux -&amp;gt; KVM / libvirt&lt;/a>
.&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="entendendo-os-conceitos">Entendendo os conceitos&lt;/h2>
&lt;p>A &lt;a href="https://en.wikipedia.org/wiki/Hardware_virtualization" target="_blank" rel="noopener">virtualização de hardware&lt;/a>
atualmente é uma tecnologia estável e madura, não sendo o objetivo deste material explorar todas as suas nuances e caracteristicas (quem sabe mais pra frente).&lt;/p>
&lt;p>O objetivo aqui é demonstrar como criar os templates (modelos) de máquinas virtuais, que serão utilizados posteriormente.&lt;/p>
&lt;p>Primeiro vamos conhecer os principais componentes que permitirão que isso aconteça.&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">KVM&lt;/h4>
&lt;p>&lt;a href="https://www.linux-kvm.org/page/Main_Page" target="_blank" rel="noopener">&lt;em>&lt;strong>K&lt;/strong>ernel-based &lt;strong>V&lt;/strong>irtual &lt;strong>M&lt;/strong>achine&lt;/em>&lt;/a>
é uma solução de virtualização completa para Linux em hardware x86 contendo extensões de virtualização (&lt;a href="https://en.wikipedia.org/wiki/X86_virtualization#Intel_virtualization_%28VT-x%29" target="_blank" rel="noopener">Intel VT&lt;/a>
ou &lt;a href="https://en.wikipedia.org/wiki/X86_virtualization#AMD_virtualization_%28AMD-V%29" target="_blank" rel="noopener">AMD-V&lt;/a>
). Ele consiste em um módulo de kernel carregável o &lt;code>kvm.ko&lt;/code> que fornece a infraestrutura central de virtualização e um módulo específico do processador &lt;code>kvm-intel.ko&lt;/code> ou &lt;code>kvm-amd.ko&lt;/code>.&lt;/p>
&lt;p>Usando o KVM, é possível executar várias máquinas virtuais executando imagens não modificadas do Linux ou do Windows. Cada máquina virtual possui hardware virtualizado privado: uma placa de rede, disco, adaptador gráfico, etc.&lt;/p>
&lt;/div>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">libvirt&lt;/h4>
O projeto &lt;a href="https://libvirt.org/" target="_blank" rel="noopener">libvirt&lt;/a>
é um kit de ferramentas para gerenciar &lt;a href="https://libvirt.org/platforms.html" target="_blank" rel="noopener">plataformas de virtualização&lt;/a>
é acessível a partir de C, Python, Perl, Go e muito mais, está licenciado sob licenças de código aberto, suporta &lt;a href="https://libvirt.org/drvqemu.html" target="_blank" rel="noopener">KVM&lt;/a>
, &lt;a href="https://libvirt.org/drvqemu.html" target="_blank" rel="noopener">Hypervisor.framework&lt;/a>
, &lt;a href="https://libvirt.org/drvqemu.html" target="_blank" rel="noopener">QEMU&lt;/a>
, &lt;a href="https://libvirt.org/drvxen.html" target="_blank" rel="noopener">Xen&lt;/a>
, &lt;a href="https://libvirt.org/drvvirtuozzo.html" target="_blank" rel="noopener">Virtuozzo&lt;/a>
, &lt;a href="https://libvirt.org/drvesx.html" target="_blank" rel="noopener">VMWare ESX&lt;/a>
, &lt;a href="https://libvirt.org/drvlxc.html" target="_blank" rel="noopener">LXC&lt;/a>
, &lt;a href="https://libvirt.org/drvbhyve.html" target="_blank" rel="noopener">BHyve&lt;/a>
e &lt;a href="https://libvirt.org/drivers.html" target="_blank" rel="noopener">mais&lt;/a>
, tem como alvo Linux, FreeBSD, &lt;a href="https://libvirt.org/windows.html" target="_blank" rel="noopener">Windows&lt;/a>
e &lt;a href="https://libvirt.org/macos.html" target="_blank" rel="noopener">MacOS&lt;/a>
e é usado por &lt;a href="https://libvirt.org/apps.html" target="_blank" rel="noopener">muitas aplicações&lt;/a>
.
&lt;/div>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">QEMU&lt;/h4>
&lt;p>&lt;a href="https://www.qemu.org/" target="_blank" rel="noopener">QEMU&lt;/a>
é um emulador e virtualizador de máquina genérico e de código aberto.&lt;/p>
&lt;p>O QEMU pode ser usado de várias maneiras diferentes. O mais comum é para “emulação de sistema”, onde fornece um modelo virtual de uma máquina inteira (CPU, memória e dispositivos emulados) para executar um sistema operacional convidado. Neste modo, a CPU pode ser totalmente emulada ou pode funcionar com um hypervisor como &lt;a href="%28https://www.linux-kvm.org/page/Main_Page%29">KVM&lt;/a>
, &lt;a href="https://xenproject.org/" target="_blank" rel="noopener">Xen&lt;/a>
, Hax ou Hypervisor.Framework para permitir que o convidado seja executado diretamente na CPU do host.&lt;/p>
&lt;p>A segunda maneira suportada de usar o QEMU é a “emulação de modo de usuário”, onde o QEMU pode iniciar processos compilados para uma CPU em outra CPU. Neste modo a CPU é sempre emulada.&lt;/p>
&lt;/div>
&lt;p>A imagem abaixo ilustra de forma simples a relação entre o hardware físico (CPU, memória, discos, placa de rede, etc.) o Hypervisor e as máquinas virtuais.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 611px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/fazap/template-vm/exemplo-vm_hua1d768c0155465d5bfde8bb1582d873f_100216_601x355_fill_box_smart1_3.png" width="601" height="355">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: www.revistaespacios.com/a16v37n27/16372721.html
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="instalando-os-componentes">Instalando os componentes&lt;/h2>
&lt;p>Como todos os componentes (KVM, libvirt e QEMU) estam disponíveis nos repositórios upstream do Ubuntu, usaremos o gerenciador de pacotes &lt;code>apt&lt;/code> para a instalação dos mesmos, para outras distribuições Linux ou sistemas operacionais verifique a documentação correspondente do &lt;a href="https://www.linux-kvm.org/page/Downloads" target="_blank" rel="noopener">KVM&lt;/a>
, &lt;a href="https://libvirt.org/docs.html" target="_blank" rel="noopener">libvirt&lt;/a>
e &lt;a href="https://www.qemu.org/download/" target="_blank" rel="noopener">QEMU&lt;/a>
.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Atualiza a lista de pacotes disponíveis&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Instalação dos pacotes principais do KVM / libvirt / QEMU&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt -y install &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> qemu-kvm &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> libvirt-daemon &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> bridge-utils &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> virtinst &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> libvirt-daemon-system
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Instalação de pacotes adicionais&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt -y install &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> virt-top &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> libguestfs-tools &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> libosinfo-bin &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> qemu-system &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> virt-manager
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="validando--concluindo-a-instalação">Validando / concluindo a instalação&lt;/h3>
&lt;h4 id="testando-o-kvm">Testando o KVM&lt;/h4>
&lt;p>Para validar se o KVM está instalado corretamente e se a CPU está com a &lt;a href="https://en.wikipedia.org/wiki/X86_virtualization" target="_blank" rel="noopener">virtualização x86&lt;/a>
habilitada, utilize o utilitário &lt;a href="http://manpages.ubuntu.com/manpages/jammy/en/man1/kvm-ok.1.html" target="_blank" rel="noopener">kvm-ok&lt;/a>
.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo kvm-ok
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>INFO: /dev/kvm exists
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>KVM acceleration can be used
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">Extraído da documentação:&lt;/h4>
Em alguns casos de falha, o &lt;strong>kvm-ok&lt;/strong> fornece dicas sobre como você pode habilitar o KVM em um sistema onde ele é arbitrariamente desabilitado.
&lt;/div>
&lt;h4 id="checando-o-modulo-vhost_net">Checando o modulo &lt;code>vhost_net&lt;/code>&lt;/h4>
&lt;p>O módulo &lt;code>vhost_net&lt;/code> fornecerá ferramentas semelhantes aos comandos &lt;code>ls&lt;/code>, &lt;code>cat&lt;/code>, &lt;code>top&lt;/code> para uso com máquinas virtuais, para certificar que ele está carregado e habilitado, use o código abaixo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Verifica se o modulo está carregado, senão carrega o modulo do Kernel&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># e já adiciona no arquivo &amp;#39;/etc/modules&amp;#39; para ser carregado na inicialização&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> ! lsmod | grep vhost; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sudo modprobe vhost_net;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo vhost_net | sudo tee -a /etc/modules;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="consultando-o-libvirt">Consultando o &lt;code>libvirt&lt;/code>&lt;/h3>
&lt;p>Para verificar se o serviço de virtualização está devidamente ativo execute o comando &lt;code>sudo systemctl status libvirtd&lt;/code>, o resultado deve parecer com a saída abaixo.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>● libvirtd.service - Virtualization daemon
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Loaded: loaded &lt;span style="color:#f92672">(&lt;/span>/lib/systemd/system/libvirtd.service; enabled; vendor preset: enabled&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Active: active &lt;span style="color:#f92672">(&lt;/span>running&lt;span style="color:#f92672">)&lt;/span> since Tue 2022-04-19 08:15:26 -03; 3s ago
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TriggeredBy: ● libvirtd.socket
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ● libvirtd-ro.socket
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ● libvirtd-admin.socket
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Docs: man:libvirtd&lt;span style="color:#f92672">(&lt;/span>8&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> https://libvirt.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Main PID: &lt;span style="color:#ae81ff">203390&lt;/span> &lt;span style="color:#f92672">(&lt;/span>libvirtd&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Tasks: &lt;span style="color:#ae81ff">19&lt;/span> &lt;span style="color:#f92672">(&lt;/span>limit: 32768&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Memory: 35.6M
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CGroup: /system.slice/libvirtd.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ├─ &lt;span style="color:#ae81ff">1382&lt;/span> /usr/sbin/dnsmasq --conf-file&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script&lt;span style="color:#f92672">=&lt;/span>/usr/lib/libvirt/libvirt_leaseshelper
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ├─ &lt;span style="color:#ae81ff">1383&lt;/span> /usr/sbin/dnsmasq --conf-file&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script&lt;span style="color:#f92672">=&lt;/span>/usr/lib/libvirt/libvirt_leaseshelper
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> └─203390 /usr/sbin/libvirtd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Se o status for diferente de &lt;code>running&lt;/code> execute os comandos abaixo para habilitar a inicialização durante o boot e iniciar o serviço agora, depois repita o teste acima.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo systemctl enable libvirtd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start libvirtd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Se tudo correu bem, também foi criada a interface de rede &lt;em>virtual&lt;/em> &lt;code>virbr0&lt;/code> vinculada a um switch &lt;em>virtual&lt;/em> pré configurado no modo &lt;a href="https://en.wikipedia.org/wiki/Network_address_translation" target="_blank" rel="noopener">NAT&lt;/a>
e com o programa &lt;a href="https://en.wikipedia.org/wiki/Dnsmasq" target="_blank" rel="noopener">dnsmasq&lt;/a>
habilitado, conforme diagrama abaixo.&lt;/p>
&lt;p>Maiores detalhes sobre a configuração padrão e dos outros modos disponíveis podem ser obtidos na &lt;a href="https://wiki.libvirt.org/page/VirtualNetworking" target="_blank" rel="noopener">documentação sobre VirtualNetworking do libvirt&lt;/a>
.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 712px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/fazap/template-vm/libvirt_virtual_network_default_huf1b4c09426728259192ba928ea6a59c7_77903_702x513_fill_q75_box_smart1.jpg" width="702" height="513">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: wiki.libvirt.org/page/File:Virtual_network_default_network_overview.jpg
&lt;/p>
&lt;/div>
&lt;/div>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Consultando as interfaces de rede&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip add | grep virbr
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>4: virbr0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu &lt;span style="color:#ae81ff">1500&lt;/span> qdisc noqueue state DOWN group default qlen &lt;span style="color:#ae81ff">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>5: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu &lt;span style="color:#ae81ff">1500&lt;/span> qdisc fq_codel master virbr0 state DOWN group default qlen &lt;span style="color:#ae81ff">1000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="criando-templates-de-máquinas-virtuais">Criando templates de máquinas virtuais&lt;/h2>
&lt;p>&lt;strong>O que é um template de máquina virtual?&lt;/strong> É uma máquina virtual pré-instalada e preparada para servir de base na criação &amp;rsquo;em série&amp;rsquo; de outras máquinas virtuais, dessa forma os procedimentos normalmente demorados de baixa / instalação das aplicações é feito apenas uma vez, gerando um ganho de tempo e consequentemente de produtividade, além de garantir a padronização do que está pré instalado na máquina virtual.&lt;/p>
&lt;p>Os templates são essenciais em processos automatizados, como parte de uma abordagem de &lt;a href="https://en.wikipedia.org/wiki/Infrastructure_as_code" target="_blank" rel="noopener">&lt;strong>IaC&lt;/strong> (&lt;em>Infrastructure as Code&lt;/em>)&lt;/a>
ou de &lt;a href="https://en.wikipedia.org/wiki/Desktop_virtualization" target="_blank" rel="noopener">&lt;strong>VDI&lt;/strong> (&lt;em>Virtual Desktop Infrastructure&lt;/em>)&lt;/a>
.&lt;/p>
&lt;h3 id="escolhendo-a-imagem-base">Escolhendo a imagem base&lt;/h3>
&lt;ul>
&lt;li>Necessita de uma interface gráfica? ou a interface texto é o suficiente?&lt;/li>
&lt;li>Necessita das últimas versões das aplicações, drivers, etc.? ou&amp;hellip;&lt;/li>
&lt;li>Precisa de versões mais antigas, e teoricamente, mais estáveis das aplicações, drivers, etc.?&lt;/li>
&lt;li>Existe alguma exigência técnica para o uso de um determinado sistema operacional / distribuição?&lt;/li>
&lt;li>Qual distribuição ou sistema operacional você tem mais familiaridade?&lt;/li>
&lt;/ul>
&lt;p>Essas são algumas perguntas que devem surgir no momento de decidir qual sistema operacional / distribuição (Linux) utilizar, independente das respostas tenha em mente estes 2 pontos, dê preferência a imagens &lt;code>net-installer&lt;/code>, &lt;code>minimal&lt;/code> ou &lt;code>boot-iso&lt;/code> e &lt;em>&lt;strong>instale apenas o necessário&lt;/strong>&lt;/em>, com isso o tamanho final do template será menor e reduzirá a cobertura de ataques cibernéticos e bugs (por ter menos aplicações instaladas).&lt;/p>
&lt;p>Abaixo segue os link&amp;rsquo;s para as páginas de download de algumas distribuições / sistemas operacionais (em ordem alfabética), fique a vontade para sugerir novas usando os link&amp;rsquo;s ao lado na seção &lt;code>Colabore&lt;/code>, obrigado!&lt;/p>
&lt;p>&lt;a href="https://www.centos.org/download/" target="_blank" rel="noopener">CentOS&lt;/a>
| &lt;a href="https://www.debian.org/distrib/index.pt.html" target="_blank" rel="noopener">Debian&lt;/a>
| &lt;a href="https://get.opensuse.org/leapmicro/5.2/" target="_blank" rel="noopener">OpenSuse&lt;/a>
| &lt;a href="https://ubuntu.com/download/server/" target="_blank" rel="noopener">Ubuntu&lt;/a>
| &lt;a href="https://www.microsoft.com/pt-br/software-download/windows10ISO" target="_blank" rel="noopener">Windows 10&lt;/a>
&lt;/p>
&lt;blockquote>
&lt;p>Para os passos seguintes optamos por utilizar a versão mais recente do &lt;a href="http://mirror.ci.ifes.edu.br/centos/8-stream/isos/x86_64/CentOS-Stream-8-x86_64-latest-boot.iso" target="_blank" rel="noopener">CentOS-Stream-8-x86_64&lt;/a>
.&lt;/p>
&lt;/blockquote>
&lt;h3 id="preparando-para-a-instalação">Preparando para a instalação&lt;/h3>
&lt;p>O primeiro passo é criar uma imagem de disco que servirá para a instalação do sistema operacional, para tanto utilizaremos o utilitário &lt;a href="https://qemu.readthedocs.io/en/latest/tools/qemu-img.html#" target="_blank" rel="noopener">qemu-img create&lt;/a>
, que tem as seguintes opções.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>qemu-img create &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>--object OBJECTDEF&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>-q&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>-f FMT&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>-b BACKING_FILE &lt;span style="color:#f92672">[&lt;/span>-F BACKING_FMT&lt;span style="color:#f92672">]]&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>-u&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>-o OPTIONS&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> FILENAME &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#f92672">[&lt;/span>SIZE&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para maiores detalhes sobre cada uma das opções acima consulte a &lt;a href="https://qemu.readthedocs.io/en/latest/tools/qemu-img.html#cmdoption-qemu-img-commands-arg-create" target="_blank" rel="noopener">documentação da opção create&lt;/a>
.&lt;/p>
&lt;p>Vamos executar o comando abaixo para criar a nossa imagem de disco no formato &lt;a href="https://qemu.readthedocs.io/en/latest/system/images.html#cmdoption-image-formats-arg-qcow2" target="_blank" rel="noopener">qcow2&lt;/a>
usando a &lt;a href="https://qemu.readthedocs.io/en/latest/system/images.html#cmdoption-qcow2-arg-preallocation" target="_blank" rel="noopener">pré-alocação dos metadados&lt;/a>
, gravando-a na pasta &lt;code>/var/lib/libvirt/images/&lt;/code> (altere o nome da imagem para melhor identifica-la depois) e por fim especifique um tamanho para a mesma.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo qemu-img create &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -f qcow2 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o preallocation&lt;span style="color:#f92672">=&lt;/span>metadata &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> /var/lib/libvirt/images/centos8-slim.qcow2 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> 15G
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A saída desse comando será algo parecido com o trecho abaixo.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>Formatting &lt;span style="color:#e6db74">&amp;#39;/var/lib/libvirt/images/centos8-slim.qcow2&amp;#39;&lt;/span>, fmt&lt;span style="color:#f92672">=&lt;/span>qcow2 size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">16106127360&lt;/span> cluster_size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>preallocation&lt;span style="color:#f92672">=&lt;/span>metadata lazy_refcounts&lt;span style="color:#f92672">=&lt;/span>off refcount_bits&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">16&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para gerenciarmos nossas máquinas virtuais temos 2 opções, ambas criadas com base na biblioteca &lt;code>libvirt&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://libvirt.org/manpages/virsh.html" target="_blank" rel="noopener">virsh&lt;/a>
(linha de comando);&lt;/li>
&lt;li>&lt;a href="https://virt-manager.org/" target="_blank" rel="noopener">virt-manager&lt;/a>
(interface gráfica);&lt;/li>
&lt;/ul>
&lt;p>Adicionalmente ainda temos à disposição as seguintes ferramentas de suporte, também criadas usando a &lt;code>libvirt&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://linux.die.net/man/1/virt-install" target="_blank" rel="noopener">virt-install&lt;/a>
para provisionar novas máquinas virtuais.&lt;/li>
&lt;li>&lt;a href="https://linux.die.net/man/1/virt-viewer" target="_blank" rel="noopener">virt-viewer&lt;/a>
exibe o console gráfico para uma máquina virtual.&lt;/li>
&lt;li>&lt;a href="https://linux.die.net/man/1/virt-clone" target="_blank" rel="noopener">virt-clone&lt;/a>
para clonar imagens de máquinas virtuais existentes.&lt;/li>
&lt;li>&lt;a href="https://www.systutorials.com/docs/linux/man/1-virt-xml/" target="_blank" rel="noopener">virt-xml&lt;/a>
para editar o XML do domínio libvirt.&lt;/li>
&lt;li>&lt;a href="https://github.com/virt-manager/virt-bootstrap" target="_blank" rel="noopener">virt-bootstrap&lt;/a>
configura o sistema de arquivos raiz para contêineres baseados em libvirt.&lt;/li>
&lt;/ul>
&lt;h3 id="instalando-o-sistema-operacional">Instalando o sistema operacional&lt;/h3>
&lt;h4 id="revisando--conhecendo-as-opções-do-comando-virt-install">Revisando / conhecendo as opções do comando &lt;code>virt-install&lt;/code>&lt;/h4>
&lt;p>Se já tem algum tempo da publicação deste material ou se você gosta de saber com o que esta lidando, é recomendável consultar a documentação com o comando &lt;code>man virt-install&lt;/code>, para verificar se as opções permanecem as mesmas, se não foram substituídas, se existem novas opções, etc.&lt;/p>
&lt;p>Uma vez carregada a documentação algumas dicas podem nos poupar tempo para localizarmos o que precisamos em conteúdos extensos como este do &lt;code>virt-install&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>Para localizar o texto &amp;lsquo;&amp;ndash;virt-type&amp;rsquo; digite &lt;code>/--virt-type&amp;lt;&amp;lt;ENTER&amp;gt;&amp;gt;&lt;/code>.&lt;/li>
&lt;li>Para ir para a próxima ocorrência do texto use &lt;code>n&lt;/code> e para voltar para as ocorrências anteriores &lt;code>N&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4 id="iniciando-a-instalação">Iniciando a instalação&lt;/h4>
&lt;p>Uma vez terminada a consulta / validação das opções abaixo, vamos executar o comando e iniciar a instalação.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo virt-install &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --virt-type kvm &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --name centos8 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --memory &lt;span style="color:#ae81ff">2048&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --disk /var/lib/libvirt/images/centos8-slim.qcow2,format&lt;span style="color:#f92672">=&lt;/span>qcow2 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --network network&lt;span style="color:#f92672">=&lt;/span>default &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --graphics vnc,listen&lt;span style="color:#f92672">=&lt;/span>0.0.0.0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --noautoconsole &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --os-variant&lt;span style="color:#f92672">=&lt;/span>centos-stream8 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --cdrom&lt;span style="color:#f92672">=&lt;/span>/home/sandro/Downloads/CentOS-Stream-8-x86_64-latest-boot.iso
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Após o comando acima apareceu uma mensagem informando que a instalação ainda está em progresso, vamos confirmar se temos alguma máquina virtual em execução no momento?&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>virsh list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Id Name State
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-------------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">2&lt;/span> centos8 running
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Show! Então agora precisamos acessar a console dessa máquina virtual e concluir a instalação do nosso sistema operacional, para tanto execute o comando abaixo.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>virt-viewer centos8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Deverá aparecer a tela abaixo, de boas vindas à instalação do CentOS Stream 8, onde a primeira coisa é escolher o idioma a ser utilizado no processo de instalação.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 712px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/fazap/template-vm/welcome-centos-stream-8_hufbcefd3c0e93f87e9ba98fc5032c30ba_141814_702x513_fill_box_smart1_3.png" width="702" height="513">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text"> &lt;/p>
&lt;/div>
&lt;/div>
&lt;p>A partir deste ponto, &lt;strong>cada caso é um caso&lt;/strong> e, dependendo da função das máquinas virtuais a serem criadas com este template, iremos instalar um determinado conjunto de pacotes / programas. Fora alguns casos especificos, o mais indicado é &lt;strong>instalar apenas o necessário&lt;/strong>, por exemplo:&lt;/p>
&lt;ul>
&lt;li>Se a função da máquina virtual for ser um servidor de aplicação, onde iremos acessar basicamente via terminal, realmente é necessário ter uma interface gráfica?&lt;/li>
&lt;/ul>
&lt;p>Lembre-se! Quanto menos programas tivermos instalados em nosso sistema, menor será a cobertura de ataques ciberneticos e menor o espaço ocupado em disco.&lt;/p>
&lt;p>Bom! Uma vez concluída a instalação inicial do sistema operacional para para as etapas finais.&lt;/p>
&lt;h3 id="acessando-a-máquina-virtual">Acessando a máquina virtual&lt;/h3>
&lt;p>Uma vez concluída a instalação a máquina virtual é desligada, podemos verificar este estado com o comando abaixo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>virsh list --all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Id Name State
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--------------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - centos8 shut off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para &amp;rsquo;ligar&amp;rsquo; a máquina virtual execute o comando:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>virsh start centos8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>E para acessar a console da máquina virtual utilize o mesmo comando de antes:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>virt-viewer centos8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Se preferir pode usar o &lt;code>virt-manager&lt;/code> para acessar estas e outras funcionalidades via interface gráfica.&lt;/p>
&lt;h3 id="ajustes-pós-install">Ajustes pós install&lt;/h3>
&lt;p>Para completar a instalação do sistema operacional vamos instalar alguns pacotes básicos e necessários para a manutenção futura de nossa máquina virtual.&lt;/p>
&lt;blockquote>
&lt;p>Se quiser acessar&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo yum update -y;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo yum install -y &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> epel-release &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> curl &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> wget &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> telnet &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> net-tools &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> unzip;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para concluirmos esta etapa, precisamos desabilitar a funcionalidade &lt;a href="https://en.wikipedia.org/wiki/Zero-configuration_networking" target="_blank" rel="noopener">ZeroConf&lt;/a>
para que a configuração de rede seja feita manualmente quando da instalação das futuras máquinas virtuais baseadas neste template, para tanto execute o comando abaixo.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo echo &lt;span style="color:#e6db74">&amp;#34;NOZEROCONF=yes&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysconfig/network
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Pronto, agora podemos ir para a etapa final, então vamos desligar a nossa máquina virtual.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo poweroff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="limpando-a-imagem">Limpando a imagem&lt;/h3>
&lt;p>Antes de seguir certifique-se que a máquina virtual está desligada.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>virsh list --all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Id Name State
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--------------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - centos8 shut off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Agora vamos utilizar o útilitário &lt;a href="https://libguestfs.org/virt-sysprep.1.html" target="_blank" rel="noopener">virt-sysprep&lt;/a>
que tem a função de redefinir, desconfigurar ou personalizar uma máquina virtual para que possam ser feitos os clones dessa máquina virtual.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo virt-sysprep -d centos8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>sudo&lt;span style="color:#f92672">]&lt;/span> senha para sandro:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 0.0&lt;span style="color:#f92672">]&lt;/span> Examining the guest ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.0&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;abrt-data&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.0&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;backup-files&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.2&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;bash-history&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.2&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;blkid-tab&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.2&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;crash-data&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.2&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;cron-spool&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.3&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;dhcp-client-state&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.3&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;dhcp-server-state&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.3&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;dovecot-data&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.3&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;logfiles&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.4&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;machine-id&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.4&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;mail-spool&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.4&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;net-hostname&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.4&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;net-hwaddr&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.5&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;pacct-log&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.5&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;package-manager-cache&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.6&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;pam-data&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.6&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;passwd-backups&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.6&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;puppet-data-log&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.6&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;rh-subscription-manager&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.7&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;rhn-systemid&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.7&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;rpm-db&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.7&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;samba-db-log&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.7&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;script&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.7&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;smolt-uuid&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.8&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;ssh-hostkeys&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.8&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;ssh-userdir&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.8&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;sssd-db-log&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.8&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;tmp-files&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.8&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;udev-persistent-net&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.8&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;utmp&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.9&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;yum-uuid&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.9&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;customize&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.9&lt;span style="color:#f92672">]&lt;/span> Setting a random seed
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 5.9&lt;span style="color:#f92672">]&lt;/span> Setting the machine ID in /etc/machine-id
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span> 6.0&lt;span style="color:#f92672">]&lt;/span> Performing &lt;span style="color:#e6db74">&amp;#34;lvm-uuids&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>E agora vamos remover a configuração da máquina virtual com o comando abaixo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo virsh undefine centos8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Pronto! Procedimento concluído, agora podemos clonar a nossa máquina virtual nos próximos artigos.&lt;/p>
&lt;p>Espero que tenha gostado, deixe seu Feedback abaixo e sinta-se à vontade para colaborar usando o menu da direita.&lt;/p>
&lt;p>Até breve!&lt;/p></description></item><item><title>Docs: Visão geral</title><link>https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/</link><pubDate>Wed, 23 Feb 2022 00:00:00 +0000</pubDate><guid>https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>Em resumo um &lt;strong>DW&lt;/strong> (&lt;em>Data Warehouse&lt;/em>) pode ser definido como um banco de dados especializado, que integra e gerencia o fluxo de informações a partir de bancos de dados corporativos e fonte de dados externas à organização.&lt;/p>
&lt;/div>
&lt;p>Por trás de uma solução de DW existe uma série de ferramentas / tecnologias / conceitos (peças) que precisam ser combinadas para atingir um objetivo específico.&lt;/p>
&lt;p>E para não sair do padrão temos a tradicional sopa de letrinhas: SAD, OLAP, OLTP, ETL, ODS além de alguns termos como Data Mart, Data Mining, Metadados, etc&amp;hellip;&lt;/p>
&lt;blockquote>
&lt;p>Fontes:&lt;/p>
&lt;ul>
&lt;li>MARTINS, C. E. W.; SILVA, E. L. da.; MUSSI, E. A. S. Implantação de um ODS no Banco do Brasil visando um DATA WAREHOUSE - Estudo de Caso. 1999. 51 f. Tese (MBA em Tecnologia) - Escola Politécnica, Universidade de São Paulo, Brasília. 1999.&lt;/li>
&lt;li>HARRISON, Thomas H. Intranet Data Warehouse. São Paulo, Berkeley, 1998. 362 p.&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="sad-sistema-de-apoio-à-decisão">SAD (Sistema de Apoio à Decisão)&lt;/h2>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>A definição do termo &lt;strong>SAD&lt;/strong> (&lt;em>Sistema de Apoio à Decisão&lt;/em>) ainda provoca divergência entre vários autores, mas sinteticamente pode-se definir como: &amp;ldquo;Conjunto de ferramentas que visa auxiliar os gestores na tomada de decisões&amp;rdquo;.&lt;/p>
&lt;/div>
&lt;p>Um SAD se diferencia de outros sistemas existentes nas organizações basicamente por:&lt;/p>
&lt;ul>
&lt;li>Manipular grandes volumes de dados;&lt;/li>
&lt;li>Obter dados de fontes diferentes (internas e externas);&lt;/li>
&lt;li>Flexibilidade de relatórios gerenciais;&lt;/li>
&lt;li>Execução de rotinas de otimização e heurística;&lt;/li>
&lt;li>Execução de análises de simulação;&lt;/li>
&lt;li>Suporte para diversos níveis na tomada de decisão;&lt;/li>
&lt;/ul>
&lt;p>Com a utilização de um SAD as organizações tem melhores condições de, por exemplo:&lt;/p>
&lt;ul>
&lt;li>Decidir sobre fazer ou não uma promoção, de qual produto e quando;&lt;/li>
&lt;li>Projetar o risco ou o sucesso do investimento em determinado empreendimento ou do lançamento de um produto;&lt;/li>
&lt;li>Decidir se deve contratar ou não novos funcionários no próximo mês;&lt;/li>
&lt;/ul>
&lt;p>Ou seja, com este sistema os gestores têm condições de tomar decisões não apenas na intuição.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 410px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/sad_hu19d7a0a3c2d049f58696b53bf7272272_31439_400x286_fill_box_smart1_3.png" width="400" height="286">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
&lt;/p>
&lt;/div>
&lt;/div>
&lt;blockquote>
&lt;p>Fonte:&lt;/p>
&lt;ul>
&lt;li>FALSARELLA, Orandi M.; CHAVES, Eduardo O. C. Sistemas de Informação e Sistemas de Apoio à Decisão. Disponivel em: &lt;a href="http://www.chaves.com.br/TEXTSELF/COMPUT/sad.htm" target="_blank" rel="noopener">http://www.chaves.com.br/TEXTSELF/COMPUT/sad.htm&lt;/a>
Acesso em: 13 de mar. 2012.&lt;/li>
&lt;li>BORTOLIN, Sérgio A. M. Sistema de Apoio à Decisão. Disponível em: &lt;a href="http://www.al.urcamp.tche.br/infocamp/edicoes/nov05/Apoio%20a%20Decisao.pdf" target="_blank" rel="noopener">http://www.al.urcamp.tche.br/infocamp/edicoes/nov05/Apoio%20a%20Decisao.pdf&lt;/a>
Acesso em: 13 de mar. 2012.&lt;/li>
&lt;li>PRIMAK, Fabio Vinicius. Decisões com B.I. Business Intelligence. Brasil. 1a edição. Ciência Moderna. 2008. 168 p. ISBN 8573937149.&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="bi-business-intelligence">BI (Business Intelligence)&lt;/h2>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>O termo &lt;strong>Business Intelligence&lt;/strong> ou Inteligência Empresarial foi utilizado pela primeira vez na década de 80 pelo Gartner Group, porém o conceito remonta desde a antiguidade onde, por exemplo, se observavam a posição dos astros, os períodos de sol / chuva e as marés para a tomada de decisões.&lt;/p>
&lt;/div>
&lt;p>Com o desenvolvimento dos sistemas computacionais ao longo das últimas décadas, observa-se também o desenvolvimento do BI, impulsionado pela permanente necessidade das organizações de manterem a competitividade.&lt;/p>
&lt;p>Atualmente, pode-se sintetizar &lt;strong>BI&lt;/strong> como um conjunto de ferramentas, conceitos e metodologias que se utiliza da Tecnologia da Informação (TI) para coletar &lt;em>&lt;strong>dados&lt;/strong>&lt;/em>, analisá-los e transformá-los em &lt;em>&lt;strong>informação&lt;/strong>&lt;/em>.&lt;/p>
&lt;p>Com isso, os sistemas de BI concedem às organizações &lt;em>&lt;strong>conhecimento&lt;/strong>&lt;/em> sobre seus negócios, contribuindo para que os gestores optem pela &lt;em>&lt;strong>decisão&lt;/strong>&lt;/em> mais acertada.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 410px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/bi_hu1048601311bcd4210662b61a5e7dacc8_39851_400x306_fill_box_smart1_3.png" width="400" height="306">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Os componentes de uma estrutura de BI são basicamente:&lt;/p>
&lt;ul>
&lt;li>Dados operacionais;
&lt;ul>
&lt;li>É a matéria prima do BI, são os dados originados das aplicações utilizadas no dia-a-dia da organização, por exemplo o ERP.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ODS (&lt;em>Operacional Data Store&lt;/em>);
&lt;ul>
&lt;li>Armazena os dados operacionais de forma consolidada, porém não possuem características dimensionais (como o DW e DM).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ferramentas de ETL (Extração, Transformação e Carga);
&lt;ul>
&lt;li>Veremos com mais detalhes posteriormente.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Data Warehouse (DW) e Data Marts (DM);
&lt;ul>
&lt;li>Veja postagem.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Data Mining (Mineração de Dados);
&lt;ul>
&lt;li>Veremos com mais detalhes posteriormente.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Visualização dos resultados;
&lt;ul>
&lt;li>Ferramentas que permitem ao usuário final visualizar de forma amigável as informações para auxiliar na tomada das decisões.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Este é um breve resumo sobre BI, persistindo alguma dúvida ou necessitando de maiores esclarecimentos, registre seu comentário e vamos aprender juntos.&lt;/p>
&lt;blockquote>
&lt;p>Fonte:
ANTONELLI, Ricardo A. Conhecendo o Business Intelligence (BI) - Uma Ferramenta de Auxílio à Tomada de Decisão. Revista TECAP. v. 3, n. 3, 2009. Disponível em: &lt;a href="http://revistas.utfpr.edu.br/pb/index.php/CAP/article/viewFile/933/544" target="_blank" rel="noopener">http://revistas.utfpr.edu.br/pb/index.php/CAP/article/viewFile/933/544&lt;/a>
acesso em: 14 de mar. 2012.&lt;/p>
&lt;/blockquote>
&lt;h2 id="datawarehouse-dw--data-mart-dm">DataWarehouse (DW) &amp;amp; Data Mart (DM)&lt;/h2>
&lt;p>Um DW (&lt;em>Data Warehouse&lt;/em> ou Armazém de Dados) é uma coleção de dados orientada por assunto, integrada, variante no tempo e não volátil que tem por objetivo dar suporte aos processos de tomada de decisão.&lt;/p>
&lt;p>É um repositório central que armazena dados de várias fontes, transformando-os em um modelo comum, multidimensional, para a realização de consultas e análises mais eficientes.&lt;/p>
&lt;p>A diferença entre um DW e um DM basicamente consiste no volume de dados, abrangência e foco. Enquanto o DW foca na organização como um todo os DM´s focam em um determinado departamento ou conjunto especifíco de usuário, por exemplo.&lt;/p>
&lt;p>A construção deste armazém pode acontecer de duas formas, cada abordagem têm seus prós e contras. As circunstâncias e particularidades de cada projeto é que determinarão qual utilizar.&lt;/p>
&lt;p>Na abordagem &lt;em>Top-Down&lt;/em> primeiro se monta o DW (corporativo) para num segundo momento criar os DM (departamentais).&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 410px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/data-mart-top-down_hu88d4ce438ecc4d795768fc220673a3fb_46682_400x212_fill_box_smart1_3.png" width="400" height="212">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: http://www.dataprix.net/pt-pt/24-data-mart
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Ou utilizar a abordagem &lt;em>Bottom-UP&lt;/em> onde primeiro é criado os DM´s para em seguida montar o DW da organização.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 410px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/data-mart-bottom-up_hu3c1d801b1926d9fc92083ca09c0c89b9_50750_400x213_fill_box_smart1_3.png" width="400" height="213">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: http://www.dataprix.net/pt-pt/24-data-mart
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="oltp--olap">OLTP &amp;amp; OLAP&lt;/h2>
&lt;p>&lt;strong>OLTP&lt;/strong> (&lt;em>Online Transaction Processing&lt;/em> ou Processamento de Transações em Tempo Real) caracteriza-se por um grande número de transações (&lt;em>INSERT, UPDATE e DELETE&lt;/em>) envolvendo uma pequena quantidade de dados em um ambiente multi-acesso, mantendo a integridade referencial.&lt;/p>
&lt;p>No planejamento do banco de dados busca-se reduzir o tamanho e a redundância dos dados e normalmente se aplica a &lt;a href="https://www.google.com/search?q=3FN&amp;#43;%28terceira&amp;#43;Forma&amp;#43;Normal%29" target="_blank" rel="noopener">3FN (terceira Forma Normal)&lt;/a>
na modelagem, são os dados primitivos ou dados operacionais segundo &lt;a href="https://en.wikipedia.org/wiki/Bill_Inmon" target="_blank" rel="noopener">W. H. Inmon&lt;/a>
.&lt;/p>
&lt;p>&lt;strong>OLAP&lt;/strong> (&lt;em>Online Analytical Processing&lt;/em> ou Processamento Analítico em Tempo Real) caracteriza-se por poucas transações (&lt;em>INSERT e SELECT&lt;/em>) envolvendo um volume muito grande de dados.&lt;/p>
&lt;p>Na busca por eficiência das consultas, os dados armazenados no DW ou DM´s, normalmente são desnormalizados e utilizam esquemas multi dimensionais, são os dados derivados ou dados &lt;strong>SAD&lt;/strong> segundo &lt;a href="https://en.wikipedia.org/wiki/Bill_Inmon" target="_blank" rel="noopener">W. H. Inmon&lt;/a>
.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 410px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/visao-geral/olap-oltp_hu70183390894a2306c83d4ad889956479_31862_400x213_fill_box_smart1_3.png" width="400" height="213">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: http://datawarehouse4u.info/OLTP-vs-OLAP.html
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Juntamente com o OLAP surgiram novos termos como &lt;em>DOLAP&lt;/em>, &lt;em>ROLAP&lt;/em>, &lt;em>MOLAP&lt;/em>, &lt;em>HOLAP&lt;/em>, &lt;em>slice and dice&lt;/em>, &lt;em>pivot table&lt;/em>, &lt;em>drill down/up&lt;/em> que ampliaremos posteriormente.&lt;/p>
&lt;p>A tabela abaixo extraída do livro &amp;ldquo;Como construir o Data Warehouse&amp;rdquo; de &lt;a href="https://en.wikipedia.org/wiki/Bill_Inmon" target="_blank" rel="noopener">W. H. Inmon&lt;/a>
apresenta algumas diferenças conceituais entre os dados primitivos e os dados derivados, vejamos:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>DADOS PRIMITIVOS ou DADOS OPERACIONAIS&lt;/th>
&lt;th>DADOS DERIVADOS ou DADOS SAD&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Baseados em aplicações&lt;/td>
&lt;td>Baseados em assuntos ou negócios&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Detalhados&lt;/td>
&lt;td>Resumidos ou refinados&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Exatos em relação ao momento do acesso&lt;/td>
&lt;td>Representam valores de momentos já decorridos ou instantâneos&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Atendem à comunidade funcional&lt;/td>
&lt;td>Atendem à comunidade gerencial&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Podem ser atualizados&lt;/td>
&lt;td>Não são atualizados&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>São processados repetitivamente&lt;/td>
&lt;td>Processados de forma heurística&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Requisitos de processamento conhecidos com antecedência&lt;/td>
&lt;td>Requisitos de processamento não são conhecidos com antecedência&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Compatíveis com o SDLC&lt;/td>
&lt;td>Ciclo de vida completamente diferente&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Performance é fundamental&lt;/td>
&lt;td>Performance atenuada&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Acessados uma unidade por vez&lt;/td>
&lt;td>Acessados um conjunto por vez&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Voltados para transações&lt;/td>
&lt;td>Voltados para análises&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>O controle de atualizações é atribuição de quem tem a posse&lt;/td>
&lt;td>O controle de atualizações não é problema&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alta disponibilidade&lt;/td>
&lt;td>Disponibilidade atenuada&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Gerenciados em sua totalidade&lt;/td>
&lt;td>Gerenciados por subconjuntos&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Não contemplam a redundância&lt;/td>
&lt;td>A redundância não pode ser ignorada&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Estrutura fixa; conteúdos variáveis&lt;/td>
&lt;td>Estrutura flexível&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Pequena quantidade de dados usada em um processo&lt;/td>
&lt;td>Grande quantidade de dados usada em um processo&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Atendem às necessidades cotidianas&lt;/td>
&lt;td>Atendem às necessidades gerenciais&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alta probabilidade de acesso&lt;/td>
&lt;td>Baixa ou modesta probabilidade de acesso&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="o-ambiente-do-dw">O ambiente do DW&lt;/h2>
&lt;p>Devido às diferenças existentes entre os dados primitivos e os dados derivados como vimos em &lt;a href="#oltp--olap">&lt;em>OLTP &amp;amp; OLAP&lt;/em>&lt;/a>
, outros aspectos por consequencia necessitam de nova abordagem segundo Inmon.&lt;/p>
&lt;h3 id="os-níveis-dos-dados">Os níveis dos dados&lt;/h3>
&lt;p>Estas diferenças acabam por gerar 4 (quatro) níveis de dados na organização, como segue:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Operacional&lt;/strong> ==&amp;gt; Contém os dados primitivos que atende às transações &lt;strong>OLTP&lt;/strong>, refletindo o valor atual dos registros;&lt;/li>
&lt;li>&lt;strong>Atômico / Data Warehouse&lt;/strong> ==&amp;gt; Contém dados primitivos que não são atualizados e alguns dados derivados, não existe a sobreposição de valores, mantendo um histórico dos registros através da utilização de um elemento tempo associado a chave de cada registro;&lt;/li>
&lt;li>&lt;strong>Departamental&lt;/strong> ==&amp;gt; Contém apenas dados derivados e agrupados por departamento, tem-se uma base de dados para o Marketing, outro para o RH, outro para o Financeiro e assim por diante. Também existe neste nível o elemento tempo associado a chave de cada registro;&lt;/li>
&lt;li>&lt;strong>Individual&lt;/strong> ==&amp;gt; Contém dados que serão utilizados nas análises heurísticas, normalmente são dados temporários de pequenas proporçoes e utilizados pelos Sitemas de Informações Executivas (EIS).&lt;/li>
&lt;/ul>
&lt;h3 id="ciclo-de-vida-do-desenvolvimento-de-sistemas">Ciclo de vida do desenvolvimento de sistemas&lt;/h3>
&lt;p>As diferenças entre os sistemas tradicionais e um &lt;strong>DW&lt;/strong> não termina na forma de armazenar / modelar os dados, o desenvolvimento de sistemas para um ambiente de &lt;strong>DW&lt;/strong> é praticamente o oposto ao tradicional &lt;strong>SDLC&lt;/strong> (&lt;em>Systems Development Life Cycle&lt;/em>), conforme abaixo:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>SDLC Clássico&lt;/th>
&lt;th>SDLC de um DW&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Ciclo de vida baseado em requisitos&lt;/td>
&lt;td>Ciclo de vida baseado em dados&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Levantamento de necessidades&lt;/td>
&lt;td>Implementar o warehouse&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Análise&lt;/td>
&lt;td>Integrar os dados&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Projeto&lt;/td>
&lt;td>Procurar distorções&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Programação&lt;/td>
&lt;td>Programas para os dados&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Teste&lt;/td>
&lt;td>Projetar sistemas SAD&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Integração&lt;/td>
&lt;td>Analisar os resultados&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Implementação&lt;/td>
&lt;td>Entender necessidades&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="utilização-de-hardware">Utilização de Hardware&lt;/h3>
&lt;p>Em um sistema &lt;strong>OLTP&lt;/strong> o consumo do hardware mantém um certo padrão / média de utilização durante o tempo. É possível planejar o crescimento / upgrade do sistema.&lt;/p>
&lt;p>É possível prever os picos de utilização por conta da sazonalidade, por exemplo, no natal o sistema das operadoras de cartão de crédito têm um pico de utilização.&lt;/p>
&lt;p>Em contrapartida um sistema &lt;strong>DW / SAD&lt;/strong> terá picos de utilização do hardware apenas quando houver solicitações de &lt;strong>ETL&lt;/strong> e / ou consultas &lt;strong>OLAP&lt;/strong> dos usuários e logo em seguida o hardware voltará a ficar ocioso.&lt;/p>
&lt;p>Neste cenário consegue-se prever o ritmo de crescimento da base de dados, porém o consumo de CPU / memória RAM e espaço para dados temporários já fica mais complicado.&lt;/p>
&lt;p>Ou seja, a configuração / ajuste fino do hardware que vai atender às demandas dos sistemas legados (&lt;strong>OLTP&lt;/strong>) é totalmente diferente das necessidades / especificações dos sistemas que irão atender às demandas dos sistemas &lt;strong>DW / OLAP&lt;/strong>.&lt;/p></description></item><item><title>Docs: Modelagem Multidimensional</title><link>https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/</link><pubDate>Sat, 05 Mar 2022 00:00:00 +0000</pubDate><guid>https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/</guid><description>
&lt;h2 id="cubo-de-dados">Cubo de Dados&lt;/h2>
&lt;p>Um &lt;a href="https://sandrorgguimaraes.github.io/docs/trilhadeestudo/diario-de-bordo-v1/visao-geral/#datawarehouse-dw--data-mart-dm">&lt;strong>DW&lt;/strong>&lt;/a>
tem como principal objetivo servir de repositório para a analise de grandes massas de dados através de consultas &lt;a href="https://sandrorgguimaraes.github.io/docs/trilhadeestudo/diario-de-bordo-v1/visao-geral/#oltp--olap">&lt;strong>OLAP&lt;/strong>&lt;/a>
, neste cenário observa-se dados centrais (os fatos ou métricas) que serão consultados sob diversas perspectivas (as dimensões ou parâmetros) criando a abstração do cubo de dados, conforme figura abaixo:&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 515px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/cubo_huca529dfab1b93f0e98f87087bbaf60a9_18075_505x317_fill_q75_box_smart1.jpg" width="505" height="317">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: http://www.devmedia.com.br/parceiros/fig02.jpg
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Conceitualmente uma base de dados multidimensional é representada pelo cubo de dados; mas partindo para o modelo lógico e físico a forma mais simples de representar uma base de dados multidimensional é a figura abaixo:&lt;/p>
&lt;h2 id="modelo-estrela--floco-de-neve">Modelo Estrela | Floco de Neve&lt;/h2>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 515px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/estrutura-modelo-estrela_hu4b783ad7c0e0a8c4e3c84b5f6cc2e852_11856_505x317_fill_box_smart1_3.png" width="505" height="317">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: http://www.ime.usp.br/~jef/apostila.pdf
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Essencialmente teremos no centro do modelo uma ou mais &amp;ldquo;tabelas fatos&amp;rdquo; contendo de 0 (zero) à n (várias) métricas cada tabela e nas bordas teremos pelo menos 1 (uma) &amp;ldquo;tabela dimensão&amp;rdquo; podendo ter quantas forem necessárias.&lt;/p>
&lt;p>Durante o processo de modelagem da base de dados multidimensional, os itens abaixo devem ser analisados cuidadosamente:&lt;/p>
&lt;ul>
&lt;li>Escopo;&lt;/li>
&lt;li>Granularidade;&lt;/li>
&lt;li>Dimensões e;&lt;/li>
&lt;li>Métricas;&lt;/li>
&lt;/ul>
&lt;p>Por último deve-se definir o esquema que será utilizado: Estrela ou Floco de neve.&lt;/p>
&lt;h3 id="escopo">Escopo&lt;/h3>
&lt;p>A experiência e o conhecimento do analista de &lt;a href="https://sandrorgguimaraes.github.io/docs/trilhadeestudo/diario-de-bordo-v1/visao-geral/#sad-sistema-de-apoio-%c3%a0-decis%c3%a3o">&lt;strong>SAD&lt;/strong>&lt;/a>
sobre o negócio é fundamental para a correta definição do escopo de um projeto de &lt;strong>DW&lt;/strong>.&lt;/p>
&lt;p>É imprescindível ter uma visão do que é importante para o negócio, ou melhor, saber que &lt;strong>informação&lt;/strong> será necessária extrair dos &lt;strong>dados&lt;/strong> armazenados no &lt;strong>DW&lt;/strong> para que a organização obtenha algum &lt;strong>conhecimento&lt;/strong> novo e a partir deste ponto os gestores possam tomar as &lt;strong>decisões&lt;/strong> mais acertadas.&lt;/p>
&lt;p>Vale lembrar que cada projeto é único e portanto deve ser analisado individualmente e que muitas variáveis influenciam as decisões, por exemplo: tempo para implantação, custo, capital humano e recursos tecnológicos disponíveis, etc.&lt;/p>
&lt;p>Estes dentre outros fatores influenciarão na escolha de um dos dois paradigmas que envolvem os projetos de &lt;strong>DW&lt;/strong> que são as propostas de &lt;a href="https://en.wikipedia.org/wiki/Bill_Inmon" target="_blank" rel="noopener">&lt;em>Inmon&lt;/em>&lt;/a>
e &lt;a href="https://pt.wikipedia.org/wiki/Ralph_Kimball" target="_blank" rel="noopener">&lt;em>Kimball&lt;/em>&lt;/a>
.&lt;/p>
&lt;p>&lt;em>Inmon&lt;/em> propõe que o projeto do &lt;strong>DW&lt;/strong> deve partir do &lt;strong>DW corporativo&lt;/strong> para depois desmembrar nos &lt;strong>DM departamentais&lt;/strong> com isto ganha-se na consistência dos dados armazenados mas o tempo para a obtenção de resultados práticos aumenta, em contrapartida &lt;em>Kimball&lt;/em> propõe o caminho inverso, partir de &lt;strong>DM departamentais&lt;/strong> para o &lt;strong>DW corporativo&lt;/strong> buscando observar à consistência das informações, neste processo os resultados aparecem mais rapidamente porém o risco de inconsistência aumenta.&lt;/p>
&lt;p>O bom senso entre as pessoas envolvidas sempre deve ser levado em conta no momento da decisão do projeto, para se buscar um equilibrio entre o melhor dos dois mundos.&lt;/p>
&lt;h3 id="granularidade">Granularidade&lt;/h3>
&lt;p>Durante o desenho da solução o analista de &lt;a href="https://sandrorgguimaraes.github.io/docs/trilhadeestudo/diario-de-bordo-v1/visao-geral/#sad-sistema-de-apoio-%c3%a0-decis%c3%a3o">&lt;strong>SAD&lt;/strong>&lt;/a>
define quais métricas serão armazenadas nas tabelas fatos e quais parametros serão armazenados nas tabelas dimensões, observe a figura abaixo.&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 446px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/modelo-dimensional_hufaf8da8b85f00f88d81b9b1912e5c77f_33611_436x217_fill_box_smart1_3.png" width="436" height="217">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: http://hub05.neogrid.com.br/Docs/help/pt_BR/release_notes.htm
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>A definição correta da granularidade de uma tabela fato implica no desempenho das consultas &lt;a href="https://sandrorgguimaraes.github.io/docs/trilhadeestudo/diario-de-bordo-v1/visao-geral/#oltp--olap">&lt;strong>OLAP&lt;/strong>&lt;/a>
, tomando como base o modelo proposto imagine os seguintes cenários:&lt;/p>
&lt;ul>
&lt;li>Poucas lojas e pouca abrangência (poucos CEP´s);&lt;/li>
&lt;li>Muitas lojas e pouca abrangência (poucos CEP´s);&lt;/li>
&lt;li>Poucas lojas e abrangência nacional;&lt;/li>
&lt;li>Muitas lojas e abrangência nacional;&lt;/li>
&lt;/ul>
&lt;p>É de se concordar que o volume de dados armazenados na tabela fato na última situação poderá chegar a bilhões de registros, podendo impactar no desempenho das consultas que não necessitem de um detalhamento maior.&lt;/p>
&lt;p>Nestes casos uma alternativa é quebrar a tabela fato em domínios menores, onde além de uma tabela com o nível máximo de detalhes existiriam outras tabelas sumarizadas por cidade ou estado por exemplo.&lt;/p>
&lt;blockquote>
&lt;p>No geral para granularidades distintas teremos tabelas fatos distintas.&lt;/p>
&lt;/blockquote>
&lt;h3 id="dimensões">Dimensões&lt;/h3>
&lt;p>Vamos falar um pouco sobre a tabela &amp;ldquo;dimensão&amp;rdquo;, um item importante na modelagem multidimensional e que tem algumas caracteristicas próprias que devemos observar:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Projete a tabela dimensão na perspectivas do usuário&lt;/strong>. Utilize textos descritivos e códigos que sejam de fácil entendimento do usuário final, não tente economizar alguns bytes neste quesito.&lt;/li>
&lt;li>&lt;strong>Evite utilizar técnicas de normalização dos dados&lt;/strong>. Esta técnica aumenta a complexidade das consultas, impactando no desempenho, além de não compensar a economia de espaço obtida.&lt;/li>
&lt;li>&lt;strong>Utilize uma chave primária genérica e simples&lt;/strong>. Este procedimento evita problemas de atualização que surgem aos utilizar, por exemplo, o próprio código do cliente ou produto como chave primária, além de proporcionar um melhor desempenho na utilização dos índices.&lt;/li>
&lt;li>&lt;strong>Utilize múltiplas colunas de atributos&lt;/strong>. Com isto ficará mais fácil identificar a chave em questão.&lt;/li>
&lt;/ul>
&lt;p>Abaixo alguns exemplos de atributos que podem ser utilizados para ajudar a detalhar uma chave facilitando na definição dos parametros da consulta &lt;strong>OLAP&lt;/strong>.&lt;/p>
&lt;p>&lt;strong>Atributos estruturais para relacionamentos pai-filho;&lt;/strong>&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 516px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/atributos-estruturais_hud3a2b7ae5021858728979b6c9b55e5d1_17283_506x302_fill_box_smart1_3.png" width="506" height="302">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: HARRISON, Thomas H. Intranet Data Warehouse. São Paulo, Berkeley, 1998. 362 p.
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>&lt;strong>Atributos para definição de nível;&lt;/strong>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 307px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/atributos-nivel_huc1e3fa069c2cf20085f60789a6e2e408_5577_297x203_fill_box_smart1_3.png" width="297" height="203">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: HARRISON, Thomas H. Intranet Data Warehouse. São Paulo, Berkeley, 1998. 362 p.
&lt;/p>
&lt;/div>
&lt;/div>&lt;/p>
&lt;p>&lt;strong>Atributos tipo &amp;ldquo;flag&amp;rdquo; de resolução e/ou de seqüência;&lt;/strong>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 439px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/atributos-flag-resolucao-sequencia_hub9c292590af1e390da556a42d5408469_9249_429x196_fill_box_smart1_3.png" width="429" height="196">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
Fonte: HARRISON, Thomas H. Intranet Data Warehouse. São Paulo, Berkeley, 1998. 362 p.
&lt;/p>
&lt;/div>
&lt;/div>&lt;/p>
&lt;h3 id="métricas">Métricas&lt;/h3>
&lt;p>Agora vamos aos &amp;ldquo;fatos&amp;rdquo;, às &amp;ldquo;métricas&amp;rdquo;, ao centro das atenções, pois são as tabelas fatos que irão guardar no data warehouse a respota para todas as questões.&lt;/p>
&lt;p>É na tabela fato que o analista de &lt;strong>SAD&lt;/strong> armazenará as métricas do negócio, possibilitando recuperar dados quantitativos e responder por exemplo quanto foi vendido de um determinado produto? em determinada época? em determinado local? dentre outras questões.&lt;/p>
&lt;p>Os fatos ou métricas armazenadas podem ser de três tipos:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Aditivas&lt;/strong>: São as métricas que podem ser sumarizadas adicionando seus valores ao longo do tempo. Por exemplo o valor, o custo e/ou a quantidade de um pedido podem ser somados independente das combinações dos parametros das dimensões;&lt;/li>
&lt;li>&lt;strong>Não-aditivas&lt;/strong>: É o inverso das aditivas, por exemplo valores percentuais (no geral não são somados) e como normalmente são derivadas de outras métricas aditivas, fica mais prático calcular em tempo de execução do que armazenar estas métricas.&lt;/li>
&lt;li>&lt;strong>Semi-aditiva&lt;/strong>: Estas métricas podem ser sumarizadas apenas em algumas dimensões, como exemplo temos o saldo de uma conta corrente, que pode ser sumarizada na dimensão cliente, na dimensão agência mas não faz sentido somar o saldo da conta ao longo do tempo.&lt;/li>
&lt;/ul>
&lt;p>Ampliando esta questão dos tipos de métricas, temos o exemplo da temperatura (métrica não-aditiva) e do saldo da conta (métrica semi-aditiva) que não faz sentido somar, mas podemos utilizar outras operações como média, máximo e mínimo;&lt;/p>
&lt;p>Normalmente na tabela fato a chave primária (&lt;strong>PK&lt;/strong>) é composta, sendo que cada elemento é uma chave estrangeira (&lt;strong>FK&lt;/strong>) vinculada à uma tabela dimensão, sendo que a dimensão tempo sempre faz parte deste conjunto.&lt;/p>
&lt;p>Em alguns casos podemos ter uma tabela sem fato, onde apenas a relação entre as dimensões já é o suficiente para a área de negócios, conforme o exemplo:&lt;/p>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 529px">
&lt;img class="card-img-top" src="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/trilhadeestudo/diario-de-bordo-v1/modelagem/tabela-sem-fato_hu333bd08d2784cdc2113d0b0a1b107dd4_79229_519x369_fill_box_smart1_3.png" width="519" height="369">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
&lt;/p>
&lt;/div>
&lt;/div></description></item><item><title>Blog: Outubro 2022</title><link>https://sandrorgguimaraes.github.io/blog/novidades/novidades-2022-10/</link><pubDate>Tue, 25 Oct 2022 00:00:00 +0000</pubDate><guid>https://sandrorgguimaraes.github.io/blog/novidades/novidades-2022-10/</guid><description>
&lt;p>Olá! Após um longo período sem atualizações por conta dos estudos para a certificação CKA estamos retomando os trabalhos aqui no Diário de Bordo e já implementando algumas mudanças, como por exemplo, esse post com as novidades. Bom! vamos ver então o que temos de novo:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="#mudan%c3%a7a-estrutural">Mudança estrutural&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#formato-das-postagens">Formato das postagens&lt;/a>
&lt;/li>
&lt;li>&lt;a href="#destaque-para-as-hashtags">Destaque para as &lt;code>HashTags&lt;/code>&lt;/a>
&lt;/li>
&lt;li>&lt;a href="#cria%c3%a7%c3%a3o-da-se%c3%a7%c3%a3o-novidades">Criação da seção &lt;code>Novidades&lt;/code>&lt;/a>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#certifica%c3%a7%c3%b5es">Certificações&lt;/a>
&lt;/li>
&lt;li>&lt;a href="#artigos-publicados">Artigos publicados&lt;/a>
&lt;/li>
&lt;li>&lt;a href="#ambientes-interativos">Ambientes interativos&lt;/a>
&lt;/li>
&lt;/ul>
&lt;h2 id="mudança-estrutural">Mudança estrutural&lt;/h2>
&lt;h3 id="formato-das-postagens">Formato das postagens&lt;/h3>
&lt;p>Nós utilizamos o gerador de sites estáticos &lt;a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo&lt;/a>
com o tema &lt;a href="https://www.docsy.dev/" target="_blank" rel="noopener">Docsy&lt;/a>
para criar este Diário de Bordo, e o &lt;a href="https://www.docsy.dev/" target="_blank" rel="noopener">Docsy&lt;/a>
oferece 2 estruturas básicas de publicações, uma usa o formato de Blog e a outra usa o formato de Documentação.&lt;/p>
&lt;p>Inicialmente estavamos usando o formato de blog na seção &lt;code>Vivendo &amp;amp; Aprendendo&lt;/code> e o formato de documentação na seção &lt;code>Colocando em prática&lt;/code>, só que percebemos que à medida que a seção &lt;code>Vivendo &amp;amp; Aprendendo&lt;/code> crescia não estava fazendo sentido manter a estrutura de blog, então decidimos muda-la para o formato de documentação, ainda precisamos fazer alguns ajustes e configurações para melhorar a navegação.&lt;/p>
&lt;h3 id="destaque-para-as-hashtags">Destaque para as &lt;code>HashTags&lt;/code>&lt;/h3>
&lt;p>Sentimos a necessidade de dar um destaque maior para a seção &lt;code>HashTags&lt;/code>, que antes ficava dentro de &lt;code>Vivendo &amp;amp; Aprendendo&lt;/code>.&lt;/p>
&lt;p>Em breve adicionaremos novas hashtags e divulgaremos aqui.&lt;/p>
&lt;h3 id="criação-da-seção-novidades">Criação da seção &lt;code>Novidades&lt;/code>&lt;/h3>
&lt;p>E para mantermos um histórico da evolução do Diário de Bordo criamos esta seção &lt;code>Novidades&lt;/code> utilizando o formato de blog com este primeiro post, e a ideia é mensalmente postarmos o que tenho feito, criado, lido, etc.&lt;/p>
&lt;p>Então vamos às novidades&amp;hellip;&lt;/p>
&lt;h2 id="certificações">Certificações&lt;/h2>
&lt;p>O esforço e dedicação deu resultado, fui aprovado na &lt;a href="https://ti-user-certificates.s3.amazonaws.com/e0df7fbf-a057-42af-8a1f-590912be5460/3d51e6c1-b569-4bae-9b0b-10cd4078a484-sandro-rogrio-galvo-guimares-98b858c4-531e-4a61-8800-09ec2685b5e5-certificate.pdf" target="_blank" rel="noopener">Certified Kubernetes Administrator (CKA)&lt;/a>
, maiores detalhes sobre o processo, trilha de estudos, dicas, etc. dê uma olhada aqui &lt;a href="https://sandrorgguimaraes.github.io/docs/colocando-em-pratica/certificacoes/cka/">Colocando em prática -&amp;gt; Partiu Certificação -&amp;gt; Certified Kubernetes Administrator (CKA)&lt;/a>
.&lt;/p>
&lt;h2 id="artigos-publicados">Artigos publicados&lt;/h2>
&lt;p>No mês de setembro iniciamos a publicação de artigos no &lt;a href="https://sandrorgguimaraes.medium.com/" target="_blank" rel="noopener">Medium&lt;/a>
e para conhecer o sistema optei por republicar posts do &lt;a href="https://sandrorgguimaraes.blogspot.com/" target="_blank" rel="noopener">Diário de Bordo original no Blogger&lt;/a>
de 2012, resultando nos 2 artigos abaixo.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://sandrorgguimaraes.medium.com/vis%C3%A3o-geral-de-um-dw-data-warehouse-e-seus-componentes-56bd123ca9f4" target="_blank" rel="noopener">Visão geral de um Data Warehouse e seus componentes&lt;/a>
&lt;/li>
&lt;li>&lt;a href="https://sandrorgguimaraes.medium.com/modelagem-multidimensional-ac7d8a69d8b3" target="_blank" rel="noopener">Modelagem Multidimensional&lt;/a>
&lt;/li>
&lt;/ul>
&lt;p>E para inaugurar essa nova etapa, com conteúdo novo, publicamos o artigo:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://sandrorgguimaraes.medium.com/ssh-contato-imeditato-de-primeiro-grau-96849af3dcc3" target="_blank" rel="noopener">SSH! Contato imeditato de primeiro grau…&lt;/a>
&lt;/li>
&lt;/ul>
&lt;p>Para nos apoiar dêem uma lida nos artigos, se gostar do conteúdo dê um like / bata palmas e me siga no Medium.&lt;/p>
&lt;h2 id="ambientes-interativos">Ambientes interativos&lt;/h2>
&lt;p>Junto com os artigos, decidimos também iniciar o uso do &lt;a href="https://killercoda.com/sandrorgguimaraes" target="_blank" rel="noopener">Killercoda&lt;/a>
, este site nos permite criar e disponibilizar gratuitamente ambientes interativos no navegador com cenários de estudo / treino, e o nosso primeiro foi:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://killercoda.com/sandrorgguimaraes/course/linux/ssh" target="_blank" rel="noopener">SSH - Contato imediato de primeiro grau&lt;/a>
&lt;/li>
&lt;/ul>
&lt;p>Por enquanto é isso, obrigado pela atenção.&lt;/p>
&lt;p>Gostou de algo? Compartilhe!&lt;/p>
&lt;p>Até a próxima.&lt;/p></description></item></channel></rss>